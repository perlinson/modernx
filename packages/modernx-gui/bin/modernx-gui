#!/usr/bin/env node

const { startServer } = require('../lib/server');
const { detectProject } = require('../lib/project-detector');
const { openBrowser } = require('../lib/browser');

async function main() {
  try {
    console.log('ğŸš€ Starting ModernX GUI...');
    
    // Detect current project structure
    const projectInfo = await detectProject(process.cwd());
    console.log('ğŸ“ Project detected:', projectInfo.name);
    
    // Start development server
    const server = await startServer({
      port: 3000,
      projectInfo,
    });
    
    console.log(`ğŸŒ GUI Server running at: ${server.url}`);
    
    // Open browser automatically
    await openBrowser(server.url);
    console.log('âœ… ModernX GUI is ready!');
    
  } catch (error) {
    console.error('âŒ Failed to start ModernX GUI:', error.message);
    process.exit(1);
  }
}

main();
