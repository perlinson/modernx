<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>modernx-core | ModernX</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="Modern React state management framework with concurrent features">
    
    <link rel="preload" href="/modernx/assets/css/0.styles.7b828826.css" as="style"><link rel="preload" href="/modernx/assets/js/app.470600dd.js" as="script"><link rel="preload" href="/modernx/assets/js/2.3d5021cd.js" as="script"><link rel="preload" href="/modernx/assets/js/1.f4cd91dc.js" as="script"><link rel="preload" href="/modernx/assets/js/37.56aa8132.js" as="script"><link rel="prefetch" href="/modernx/assets/js/10.a5603e21.js"><link rel="prefetch" href="/modernx/assets/js/11.1e3b401f.js"><link rel="prefetch" href="/modernx/assets/js/12.00d462b1.js"><link rel="prefetch" href="/modernx/assets/js/13.1dc05648.js"><link rel="prefetch" href="/modernx/assets/js/14.da9197ce.js"><link rel="prefetch" href="/modernx/assets/js/15.ef624351.js"><link rel="prefetch" href="/modernx/assets/js/16.6ebb19a3.js"><link rel="prefetch" href="/modernx/assets/js/17.ec17d98a.js"><link rel="prefetch" href="/modernx/assets/js/18.179ed69d.js"><link rel="prefetch" href="/modernx/assets/js/19.599ad32f.js"><link rel="prefetch" href="/modernx/assets/js/20.bdc16c97.js"><link rel="prefetch" href="/modernx/assets/js/21.3ff21a0e.js"><link rel="prefetch" href="/modernx/assets/js/22.704096b7.js"><link rel="prefetch" href="/modernx/assets/js/23.e99aba69.js"><link rel="prefetch" href="/modernx/assets/js/24.f25e74ef.js"><link rel="prefetch" href="/modernx/assets/js/25.53d1d99e.js"><link rel="prefetch" href="/modernx/assets/js/26.c7cd93a8.js"><link rel="prefetch" href="/modernx/assets/js/27.f8fabe5d.js"><link rel="prefetch" href="/modernx/assets/js/28.2ef3eda1.js"><link rel="prefetch" href="/modernx/assets/js/29.384e110c.js"><link rel="prefetch" href="/modernx/assets/js/3.adc08618.js"><link rel="prefetch" href="/modernx/assets/js/30.c947364d.js"><link rel="prefetch" href="/modernx/assets/js/31.e7b2a8b6.js"><link rel="prefetch" href="/modernx/assets/js/32.777261c0.js"><link rel="prefetch" href="/modernx/assets/js/33.a5412037.js"><link rel="prefetch" href="/modernx/assets/js/34.bacc9e82.js"><link rel="prefetch" href="/modernx/assets/js/35.ae284f2a.js"><link rel="prefetch" href="/modernx/assets/js/36.81e1fc20.js"><link rel="prefetch" href="/modernx/assets/js/38.9556c5b8.js"><link rel="prefetch" href="/modernx/assets/js/39.64a03e66.js"><link rel="prefetch" href="/modernx/assets/js/4.d112ee6e.js"><link rel="prefetch" href="/modernx/assets/js/40.7d9ed69a.js"><link rel="prefetch" href="/modernx/assets/js/41.f510c711.js"><link rel="prefetch" href="/modernx/assets/js/42.9f980c88.js"><link rel="prefetch" href="/modernx/assets/js/5.7141bfbf.js"><link rel="prefetch" href="/modernx/assets/js/6.00e7cf51.js"><link rel="prefetch" href="/modernx/assets/js/7.2210c270.js"><link rel="prefetch" href="/modernx/assets/js/vendors~docsearch.0644ee0a.js">
    <link rel="stylesheet" href="/modernx/assets/css/0.styles.7b828826.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/modernx/" class="home-link router-link-active"><!----> <span class="site-name">ModernX</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/modernx/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/modernx/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/modernx/api/" class="nav-link">
  API
</a></div><div class="nav-item"><a href="/modernx/packages/" class="nav-link router-link-active">
  Packages
</a></div><div class="nav-item"><a href="/modernx/examples/" class="nav-link">
  Examples
</a></div><div class="nav-item"><a href="/modernx/migration/" class="nav-link">
  Migration
</a></div><div class="nav-item"><a href="https://github.com/perlinson/modernx" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/modernx/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/modernx/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/modernx/api/" class="nav-link">
  API
</a></div><div class="nav-item"><a href="/modernx/packages/" class="nav-link router-link-active">
  Packages
</a></div><div class="nav-item"><a href="/modernx/examples/" class="nav-link">
  Examples
</a></div><div class="nav-item"><a href="/modernx/migration/" class="nav-link">
  Migration
</a></div><div class="nav-item"><a href="https://github.com/perlinson/modernx" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Core Packages</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/modernx/packages/modernx.html" class="sidebar-link">modernx</a></li><li><a href="/modernx/packages/modernx-core.html" aria-current="page" class="active sidebar-link">modernx-core</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/modernx/packages/modernx-core.html#ğŸ¯-ç‰¹æ€§" class="sidebar-link">ğŸ¯ ç‰¹æ€§</a></li><li class="sidebar-sub-header"><a href="/modernx/packages/modernx-core.html#ğŸš€-å¿«é€Ÿå¼€å§‹" class="sidebar-link">ğŸš€ å¿«é€Ÿå¼€å§‹</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/modernx/packages/modernx-core.html#å®‰è£…" class="sidebar-link">å®‰è£…</a></li><li class="sidebar-sub-header"><a href="/modernx/packages/modernx-core.html#åŸºç¡€ä½¿ç”¨" class="sidebar-link">åŸºç¡€ä½¿ç”¨</a></li><li class="sidebar-sub-header"><a href="/modernx/packages/modernx-core.html#ä¸-modernx-é›†æˆ" class="sidebar-link">ä¸ ModernX é›†æˆ</a></li></ul></li><li class="sidebar-sub-header"><a href="/modernx/packages/modernx-core.html#ğŸ“‹-api-å‚è€ƒ" class="sidebar-link">ğŸ“‹ API å‚è€ƒ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/modernx/packages/modernx-core.html#createstore" class="sidebar-link">createStore</a></li><li class="sidebar-sub-header"><a href="/modernx/packages/modernx-core.html#applymiddleware" class="sidebar-link">applyMiddleware</a></li><li class="sidebar-sub-header"><a href="/modernx/packages/modernx-core.html#combinereducers" class="sidebar-link">combineReducers</a></li><li class="sidebar-sub-header"><a href="/modernx/packages/modernx-core.html#bindactioncreators" class="sidebar-link">bindActionCreators</a></li></ul></li><li class="sidebar-sub-header"><a href="/modernx/packages/modernx-core.html#ğŸ”§-æ ¸å¿ƒæ¦‚å¿µ" class="sidebar-link">ğŸ”§ æ ¸å¿ƒæ¦‚å¿µ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/modernx/packages/modernx-core.html#store" class="sidebar-link">Store</a></li><li class="sidebar-sub-header"><a href="/modernx/packages/modernx-core.html#reducer" class="sidebar-link">Reducer</a></li><li class="sidebar-sub-header"><a href="/modernx/packages/modernx-core.html#action" class="sidebar-link">Action</a></li><li class="sidebar-sub-header"><a href="/modernx/packages/modernx-core.html#middleware" class="sidebar-link">Middleware</a></li></ul></li><li class="sidebar-sub-header"><a href="/modernx/packages/modernx-core.html#ğŸ¯-é«˜çº§åŠŸèƒ½" class="sidebar-link">ğŸ¯ é«˜çº§åŠŸèƒ½</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/modernx/packages/modernx-core.html#å¼‚æ­¥-action" class="sidebar-link">å¼‚æ­¥ Action</a></li><li class="sidebar-sub-header"><a href="/modernx/packages/modernx-core.html#çŠ¶æ€æŒä¹…åŒ–" class="sidebar-link">çŠ¶æ€æŒä¹…åŒ–</a></li><li class="sidebar-sub-header"><a href="/modernx/packages/modernx-core.html#å¼€å‘å·¥å…·é›†æˆ" class="sidebar-link">å¼€å‘å·¥å…·é›†æˆ</a></li></ul></li><li class="sidebar-sub-header"><a href="/modernx/packages/modernx-core.html#ğŸ”Œ-æ’ä»¶ç³»ç»Ÿ" class="sidebar-link">ğŸ”Œ æ’ä»¶ç³»ç»Ÿ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/modernx/packages/modernx-core.html#åˆ›å»ºæ’ä»¶" class="sidebar-link">åˆ›å»ºæ’ä»¶</a></li><li class="sidebar-sub-header"><a href="/modernx/packages/modernx-core.html#ä½¿ç”¨æ’ä»¶" class="sidebar-link">ä½¿ç”¨æ’ä»¶</a></li></ul></li><li class="sidebar-sub-header"><a href="/modernx/packages/modernx-core.html#ğŸ¨-æœ€ä½³å®è·µ" class="sidebar-link">ğŸ¨ æœ€ä½³å®è·µ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/modernx/packages/modernx-core.html#_1-çŠ¶æ€ç»“æ„" class="sidebar-link">1. çŠ¶æ€ç»“æ„</a></li><li class="sidebar-sub-header"><a href="/modernx/packages/modernx-core.html#_2-action-å‘½å" class="sidebar-link">2. Action å‘½å</a></li><li class="sidebar-sub-header"><a href="/modernx/packages/modernx-core.html#_3-reducer-ç»„åˆ" class="sidebar-link">3. Reducer ç»„åˆ</a></li><li class="sidebar-sub-header"><a href="/modernx/packages/modernx-core.html#_4-é”™è¯¯å¤„ç†" class="sidebar-link">4. é”™è¯¯å¤„ç†</a></li></ul></li><li class="sidebar-sub-header"><a href="/modernx/packages/modernx-core.html#ğŸ“Š-æ€§èƒ½ä¼˜åŒ–" class="sidebar-link">ğŸ“Š æ€§èƒ½ä¼˜åŒ–</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/modernx/packages/modernx-core.html#_1-çŠ¶æ€è§„èŒƒåŒ–" class="sidebar-link">1. çŠ¶æ€è§„èŒƒåŒ–</a></li><li class="sidebar-sub-header"><a href="/modernx/packages/modernx-core.html#_2-é€‰æ‹©å™¨ä¼˜åŒ–" class="sidebar-link">2. é€‰æ‹©å™¨ä¼˜åŒ–</a></li><li class="sidebar-sub-header"><a href="/modernx/packages/modernx-core.html#_3-æµ…æ¯”è¾ƒä¼˜åŒ–" class="sidebar-link">3. æµ…æ¯”è¾ƒä¼˜åŒ–</a></li></ul></li><li class="sidebar-sub-header"><a href="/modernx/packages/modernx-core.html#ğŸ§ª-æµ‹è¯•" class="sidebar-link">ğŸ§ª æµ‹è¯•</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/modernx/packages/modernx-core.html#æµ‹è¯•-reducer" class="sidebar-link">æµ‹è¯• Reducer</a></li><li class="sidebar-sub-header"><a href="/modernx/packages/modernx-core.html#æµ‹è¯•-action-creator" class="sidebar-link">æµ‹è¯• Action Creator</a></li><li class="sidebar-sub-header"><a href="/modernx/packages/modernx-core.html#æµ‹è¯•-store" class="sidebar-link">æµ‹è¯• Store</a></li></ul></li><li class="sidebar-sub-header"><a href="/modernx/packages/modernx-core.html#ğŸš€-ç‰ˆæœ¬å†å²" class="sidebar-link">ğŸš€ ç‰ˆæœ¬å†å²</a></li><li class="sidebar-sub-header"><a href="/modernx/packages/modernx-core.html#ğŸ“-æ”¯æŒ" class="sidebar-link">ğŸ“ æ”¯æŒ</a></li></ul></li><li><a href="/modernx/packages/modernx-cli.html" class="sidebar-link">modernx-cli</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Development Tools</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/modernx/packages/modernx-gui.html" class="sidebar-link">modernx-gui</a></li><li><a href="/modernx/packages/modernx-logger.html" class="sidebar-link">modernx-logger</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Plugins</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/modernx/packages/modernx-immer.html" class="sidebar-link">modernx-immer</a></li><li><a href="/modernx/packages/modernx-loading.html" class="sidebar-link">modernx-loading</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="modernx-core"><a href="#modernx-core" class="header-anchor">#</a> modernx-core</h1> <p>ModernX çš„æ ¸å¿ƒåº“ï¼Œæä¾›è½»é‡çº§çš„çŠ¶æ€ç®¡ç†åŠŸèƒ½ã€‚</p> <h2 id="ğŸ¯-ç‰¹æ€§"><a href="#ğŸ¯-ç‰¹æ€§" class="header-anchor">#</a> ğŸ¯ ç‰¹æ€§</h2> <ul><li>ğŸš€ <strong>è½»é‡çº§</strong> - æ ¸å¿ƒåŠŸèƒ½ï¼Œæ— é¢å¤–ä¾èµ–</li> <li>âš¡ <strong>é«˜æ€§èƒ½</strong> - ä¼˜åŒ–çš„çŠ¶æ€æ›´æ–°æœºåˆ¶</li> <li>ğŸ”§ <strong>å¯æ‰©å±•</strong> - æ’ä»¶ç³»ç»Ÿæ”¯æŒ</li> <li>ğŸ“ <strong>TypeScript</strong> - å®Œæ•´çš„ç±»å‹å®šä¹‰</li> <li>ğŸ”„ <strong>å…¼å®¹æ€§</strong> - ä¸ Redux ç”Ÿæ€å…¼å®¹</li> <li>ğŸ› ï¸ <strong>å¼€å‘å‹å¥½</strong> - ä¸°å¯Œçš„å¼€å‘å·¥å…·</li></ul> <h2 id="ğŸš€-å¿«é€Ÿå¼€å§‹"><a href="#ğŸš€-å¿«é€Ÿå¼€å§‹" class="header-anchor">#</a> ğŸš€ å¿«é€Ÿå¼€å§‹</h2> <h3 id="å®‰è£…"><a href="#å®‰è£…" class="header-anchor">#</a> å®‰è£…</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> modernx-core
</code></pre></div><h3 id="åŸºç¡€ä½¿ç”¨"><a href="#åŸºç¡€ä½¿ç”¨" class="header-anchor">#</a> åŸºç¡€ä½¿ç”¨</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createStore<span class="token punctuation">,</span> applyMiddleware <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'modernx-core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> logger <span class="token keyword">from</span> <span class="token string">'redux-logger'</span><span class="token punctuation">;</span>

<span class="token comment">// åˆ›å»º store</span>
<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span>
  reducer<span class="token punctuation">,</span>
  initialState<span class="token punctuation">,</span>
  <span class="token function">applyMiddleware</span><span class="token punctuation">(</span>logger<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ä½¿ç”¨ store</span>
store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'INCREMENT'</span><span class="token punctuation">,</span> <span class="token literal-property property">payload</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>store<span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="ä¸-modernx-é›†æˆ"><a href="#ä¸-modernx-é›†æˆ" class="header-anchor">#</a> ä¸ ModernX é›†æˆ</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'modernx'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> core <span class="token keyword">from</span> <span class="token string">'modernx-core'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">core</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// æ ¸å¿ƒé…ç½®</span>
    <span class="token literal-property property">immer</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">logger</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">devTools</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">models</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// ä½ çš„æ¨¡å‹</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="ğŸ“‹-api-å‚è€ƒ"><a href="#ğŸ“‹-api-å‚è€ƒ" class="header-anchor">#</a> ğŸ“‹ API å‚è€ƒ</h2> <h3 id="createstore"><a href="#createstore" class="header-anchor">#</a> createStore</h3> <p>åˆ›å»º Redux store</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'modernx-core'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span>
  reducer<span class="token punctuation">,</span>
  initialState<span class="token punctuation">,</span>
  enhancer
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="applymiddleware"><a href="#applymiddleware" class="header-anchor">#</a> applyMiddleware</h3> <p>åº”ç”¨ä¸­é—´ä»¶</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> applyMiddleware<span class="token punctuation">,</span> createStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'modernx-core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> thunk <span class="token keyword">from</span> <span class="token string">'redux-thunk'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> logger <span class="token keyword">from</span> <span class="token string">'redux-logger'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span>
  reducer<span class="token punctuation">,</span>
  <span class="token function">applyMiddleware</span><span class="token punctuation">(</span>thunk<span class="token punctuation">,</span> logger<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="combinereducers"><a href="#combinereducers" class="header-anchor">#</a> combineReducers</h3> <p>åˆå¹¶ reducers</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> combineReducers <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'modernx-core'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> rootReducer <span class="token operator">=</span> <span class="token function">combineReducers</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">user</span><span class="token operator">:</span> userReducer<span class="token punctuation">,</span>
  <span class="token literal-property property">counter</span><span class="token operator">:</span> counterReducer<span class="token punctuation">,</span>
  <span class="token literal-property property">todos</span><span class="token operator">:</span> todosReducer
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="bindactioncreators"><a href="#bindactioncreators" class="header-anchor">#</a> bindActionCreators</h3> <p>ç»‘å®š action creators</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> bindActionCreators <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'modernx-core'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> boundActions <span class="token operator">=</span> <span class="token function">bindActionCreators</span><span class="token punctuation">(</span>
  <span class="token punctuation">{</span> increment<span class="token punctuation">,</span> decrement <span class="token punctuation">}</span><span class="token punctuation">,</span>
  dispatch
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="ğŸ”§-æ ¸å¿ƒæ¦‚å¿µ"><a href="#ğŸ”§-æ ¸å¿ƒæ¦‚å¿µ" class="header-anchor">#</a> ğŸ”§ æ ¸å¿ƒæ¦‚å¿µ</h2> <h3 id="store"><a href="#store" class="header-anchor">#</a> Store</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'modernx-core'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span>reducer<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// è·å–çŠ¶æ€</span>
<span class="token keyword">const</span> state <span class="token operator">=</span> store<span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// åˆ†å‘ action</span>
store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'INCREMENT'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// è®¢é˜…çŠ¶æ€å˜åŒ–</span>
<span class="token keyword">const</span> unsubscribe <span class="token operator">=</span> store<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'State updated:'</span><span class="token punctuation">,</span> store<span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// å–æ¶ˆè®¢é˜…</span>
<span class="token function">unsubscribe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="reducer"><a href="#reducer" class="header-anchor">#</a> Reducer</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">counterReducer</span><span class="token punctuation">(</span><span class="token parameter">state <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> action</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token string">'INCREMENT'</span><span class="token operator">:</span>
      <span class="token keyword">return</span> state <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">'DECREMENT'</span><span class="token operator">:</span>
      <span class="token keyword">return</span> state <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">default</span><span class="token operator">:</span>
      <span class="token keyword">return</span> state<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="action"><a href="#action" class="header-anchor">#</a> Action</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// Action Creator</span>
<span class="token keyword">function</span> <span class="token function">increment</span><span class="token punctuation">(</span><span class="token parameter">payload <span class="token operator">=</span> <span class="token number">1</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'INCREMENT'</span><span class="token punctuation">,</span> payload <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// ä½¿ç”¨</span>
store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token function">increment</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="middleware"><a href="#middleware" class="header-anchor">#</a> Middleware</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// è‡ªå®šä¹‰ä¸­é—´ä»¶</span>
<span class="token keyword">const</span> <span class="token function-variable function">loggerMiddleware</span> <span class="token operator">=</span> <span class="token parameter">store</span> <span class="token operator">=&gt;</span> <span class="token parameter">next</span> <span class="token operator">=&gt;</span> <span class="token parameter">action</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Dispatching:'</span><span class="token punctuation">,</span> action<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">next</span><span class="token punctuation">(</span>action<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Next state:'</span><span class="token punctuation">,</span> store<span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// åº”ç”¨ä¸­é—´ä»¶</span>
<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span>
  reducer<span class="token punctuation">,</span>
  <span class="token function">applyMiddleware</span><span class="token punctuation">(</span>loggerMiddleware<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="ğŸ¯-é«˜çº§åŠŸèƒ½"><a href="#ğŸ¯-é«˜çº§åŠŸèƒ½" class="header-anchor">#</a> ğŸ¯ é«˜çº§åŠŸèƒ½</h2> <h3 id="å¼‚æ­¥-action"><a href="#å¼‚æ­¥-action" class="header-anchor">#</a> å¼‚æ­¥ Action</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createStore<span class="token punctuation">,</span> applyMiddleware <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'modernx-core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> thunk <span class="token keyword">from</span> <span class="token string">'redux-thunk'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span>
  reducer<span class="token punctuation">,</span>
  <span class="token function">applyMiddleware</span><span class="token punctuation">(</span>thunk<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// å¼‚æ­¥ action creator</span>
<span class="token keyword">function</span> <span class="token function">fetchData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">dispatch<span class="token punctuation">,</span> getState</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'FETCH_START'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'/api/data'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">await</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'FETCH_SUCCESS'</span><span class="token punctuation">,</span> <span class="token literal-property property">payload</span><span class="token operator">:</span> data <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'FETCH_ERROR'</span><span class="token punctuation">,</span> <span class="token literal-property property">payload</span><span class="token operator">:</span> error <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// ä½¿ç”¨</span>
store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token function">fetchData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="çŠ¶æ€æŒä¹…åŒ–"><a href="#çŠ¶æ€æŒä¹…åŒ–" class="header-anchor">#</a> çŠ¶æ€æŒä¹…åŒ–</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createStore<span class="token punctuation">,</span> applyMiddleware <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'modernx-core'</span><span class="token punctuation">;</span>

<span class="token comment">// æŒä¹…åŒ–ä¸­é—´ä»¶</span>
<span class="token keyword">const</span> <span class="token function-variable function">persistMiddleware</span> <span class="token operator">=</span> <span class="token parameter">store</span> <span class="token operator">=&gt;</span> <span class="token parameter">next</span> <span class="token operator">=&gt;</span> <span class="token parameter">action</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">next</span><span class="token punctuation">(</span>action<span class="token punctuation">)</span><span class="token punctuation">;</span>
  
  <span class="token comment">// ä¿å­˜åˆ° localStorage</span>
  localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'state'</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>store<span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
  <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span>
  reducer<span class="token punctuation">,</span>
  <span class="token function">applyMiddleware</span><span class="token punctuation">(</span>persistMiddleware<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// æ¢å¤çŠ¶æ€</span>
<span class="token keyword">const</span> savedState <span class="token operator">=</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'state'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> initialState <span class="token operator">=</span> savedState <span class="token operator">?</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>savedState<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="å¼€å‘å·¥å…·é›†æˆ"><a href="#å¼€å‘å·¥å…·é›†æˆ" class="header-anchor">#</a> å¼€å‘å·¥å…·é›†æˆ</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createStore<span class="token punctuation">,</span> compose<span class="token punctuation">,</span> applyMiddleware <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'modernx-core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> devToolsEnhancer <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'redux-devtools-extension'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span>
  reducer<span class="token punctuation">,</span>
  initialState<span class="token punctuation">,</span>
  <span class="token function">compose</span><span class="token punctuation">(</span>
    <span class="token function">applyMiddleware</span><span class="token punctuation">(</span>thunk<span class="token punctuation">,</span> logger<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">devToolsEnhancer</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'My App'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">trace</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="ğŸ”Œ-æ’ä»¶ç³»ç»Ÿ"><a href="#ğŸ”Œ-æ’ä»¶ç³»ç»Ÿ" class="header-anchor">#</a> ğŸ”Œ æ’ä»¶ç³»ç»Ÿ</h2> <h3 id="åˆ›å»ºæ’ä»¶"><a href="#åˆ›å»ºæ’ä»¶" class="header-anchor">#</a> åˆ›å»ºæ’ä»¶</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createPlugin <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'modernx-core'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> myPlugin <span class="token operator">=</span> <span class="token function">createPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'my-plugin'</span><span class="token punctuation">,</span>
  
  <span class="token comment">// åˆå§‹åŒ–</span>
  <span class="token function-variable function">init</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Plugin initialized:'</span><span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  
  <span class="token comment">// ä¸­é—´ä»¶</span>
  <span class="token function-variable function">middleware</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">store</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token parameter">next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token parameter">action</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Plugin middleware:'</span><span class="token punctuation">,</span> action<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token function">next</span><span class="token punctuation">(</span>action<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  
  <span class="token comment">// Store å¢å¼º</span>
  <span class="token function-variable function">enhanceStore</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">store</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    store<span class="token punctuation">.</span><span class="token function-variable function">myMethod</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Plugin method'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> store<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="ä½¿ç”¨æ’ä»¶"><a href="#ä½¿ç”¨æ’ä»¶" class="header-anchor">#</a> ä½¿ç”¨æ’ä»¶</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createStore<span class="token punctuation">,</span> applyMiddleware <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'modernx-core'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span>
  reducer<span class="token punctuation">,</span>
  <span class="token function">applyMiddleware</span><span class="token punctuation">(</span>myPlugin<span class="token punctuation">.</span>middleware<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// å¢å¼ºçš„ store</span>
store<span class="token punctuation">.</span><span class="token function">myMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="ğŸ¨-æœ€ä½³å®è·µ"><a href="#ğŸ¨-æœ€ä½³å®è·µ" class="header-anchor">#</a> ğŸ¨ æœ€ä½³å®è·µ</h2> <h3 id="_1-çŠ¶æ€ç»“æ„"><a href="#_1-çŠ¶æ€ç»“æ„" class="header-anchor">#</a> 1. çŠ¶æ€ç»“æ„</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// ä½¿ç”¨æ‰å¹³åŒ–çŠ¶æ€ç»“æ„</span>
<span class="token keyword">const</span> initialState <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">user</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">currentUser</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
    <span class="token literal-property property">loading</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token literal-property property">error</span><span class="token operator">:</span> <span class="token keyword">null</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">posts</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">items</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">loading</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token literal-property property">error</span><span class="token operator">:</span> <span class="token keyword">null</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">ui</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">sidebarOpen</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token literal-property property">theme</span><span class="token operator">:</span> <span class="token string">'light'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_2-action-å‘½å"><a href="#_2-action-å‘½å" class="header-anchor">#</a> 2. Action å‘½å</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// ä½¿ç”¨å¸¸é‡å®šä¹‰ action types</span>
<span class="token keyword">const</span> <span class="token constant">ACTION_TYPES</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token constant">USER_LOGIN</span><span class="token operator">:</span> <span class="token string">'user/login'</span><span class="token punctuation">,</span>
  <span class="token constant">USER_LOGOUT</span><span class="token operator">:</span> <span class="token string">'user/logout'</span><span class="token punctuation">,</span>
  <span class="token constant">USER_UPDATE</span><span class="token operator">:</span> <span class="token string">'user/update'</span><span class="token punctuation">,</span>
  
  <span class="token constant">POSTS_FETCH</span><span class="token operator">:</span> <span class="token string">'posts/fetch'</span><span class="token punctuation">,</span>
  <span class="token constant">POSTS_SUCCESS</span><span class="token operator">:</span> <span class="token string">'posts/success'</span><span class="token punctuation">,</span>
  <span class="token constant">POSTS_ERROR</span><span class="token operator">:</span> <span class="token string">'posts/error'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_3-reducer-ç»„åˆ"><a href="#_3-reducer-ç»„åˆ" class="header-anchor">#</a> 3. Reducer ç»„åˆ</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> combineReducers <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'modernx-core'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> rootReducer <span class="token operator">=</span> <span class="token function">combineReducers</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">user</span><span class="token operator">:</span> userReducer<span class="token punctuation">,</span>
  <span class="token literal-property property">posts</span><span class="token operator">:</span> postsReducer<span class="token punctuation">,</span>
  <span class="token literal-property property">ui</span><span class="token operator">:</span> uiReducer
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_4-é”™è¯¯å¤„ç†"><a href="#_4-é”™è¯¯å¤„ç†" class="header-anchor">#</a> 4. é”™è¯¯å¤„ç†</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">errorReducer</span><span class="token punctuation">(</span><span class="token parameter">state <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> action</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token string">'ERROR_OCCURRED'</span><span class="token operator">:</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token operator">...</span>state<span class="token punctuation">,</span>
        <span class="token punctuation">[</span>action<span class="token punctuation">.</span>payload<span class="token punctuation">.</span>type<span class="token punctuation">]</span><span class="token operator">:</span> action<span class="token punctuation">.</span>payload<span class="token punctuation">.</span>error
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">'ERROR_CLEARED'</span><span class="token operator">:</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token operator">...</span>state<span class="token punctuation">,</span>
        <span class="token punctuation">[</span>action<span class="token punctuation">.</span>payload<span class="token punctuation">.</span>type<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token keyword">null</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">default</span><span class="token operator">:</span>
      <span class="token keyword">return</span> state<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="ğŸ“Š-æ€§èƒ½ä¼˜åŒ–"><a href="#ğŸ“Š-æ€§èƒ½ä¼˜åŒ–" class="header-anchor">#</a> ğŸ“Š æ€§èƒ½ä¼˜åŒ–</h2> <h3 id="_1-çŠ¶æ€è§„èŒƒåŒ–"><a href="#_1-çŠ¶æ€è§„èŒƒåŒ–" class="header-anchor">#</a> 1. çŠ¶æ€è§„èŒƒåŒ–</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// ä½¿ç”¨ normalizr è§„èŒƒåŒ–æ•°æ®</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> normalize<span class="token punctuation">,</span> schema <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'normalizr'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> userSchema <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">schema<span class="token punctuation">.</span>Entity</span><span class="token punctuation">(</span><span class="token string">'users'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> postSchema <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">schema<span class="token punctuation">.</span>Entity</span><span class="token punctuation">(</span><span class="token string">'posts'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">author</span><span class="token operator">:</span> userSchema
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> normalizedData <span class="token operator">=</span> <span class="token function">normalize</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token punctuation">[</span>postSchema<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_2-é€‰æ‹©å™¨ä¼˜åŒ–"><a href="#_2-é€‰æ‹©å™¨ä¼˜åŒ–" class="header-anchor">#</a> 2. é€‰æ‹©å™¨ä¼˜åŒ–</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createSelector <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'reselect'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">selectUsers</span> <span class="token operator">=</span> <span class="token parameter">state</span> <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>users<span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">selectPosts</span> <span class="token operator">=</span> <span class="token parameter">state</span> <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>posts<span class="token punctuation">;</span>

<span class="token keyword">const</span> selectUsersWithPosts <span class="token operator">=</span> <span class="token function">createSelector</span><span class="token punctuation">(</span>
  <span class="token punctuation">[</span>selectUsers<span class="token punctuation">,</span> selectPosts<span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token parameter">users<span class="token punctuation">,</span> posts</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> users<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">user</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token operator">...</span>user<span class="token punctuation">,</span>
      <span class="token literal-property property">posts</span><span class="token operator">:</span> posts<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">post</span> <span class="token operator">=&gt;</span> post<span class="token punctuation">.</span>authorId <span class="token operator">===</span> user<span class="token punctuation">.</span>id<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_3-æµ…æ¯”è¾ƒä¼˜åŒ–"><a href="#_3-æµ…æ¯”è¾ƒä¼˜åŒ–" class="header-anchor">#</a> 3. æµ…æ¯”è¾ƒä¼˜åŒ–</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> shallowEqual <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-redux'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">shouldComponentUpdate</span><span class="token punctuation">(</span><span class="token parameter">prevProps<span class="token punctuation">,</span> nextProps</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token operator">!</span><span class="token function">shallowEqual</span><span class="token punctuation">(</span>prevProps<span class="token punctuation">,</span> nextProps<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="ğŸ§ª-æµ‹è¯•"><a href="#ğŸ§ª-æµ‹è¯•" class="header-anchor">#</a> ğŸ§ª æµ‹è¯•</h2> <h3 id="æµ‹è¯•-reducer"><a href="#æµ‹è¯•-reducer" class="header-anchor">#</a> æµ‹è¯• Reducer</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> counterReducer <span class="token keyword">from</span> <span class="token string">'./counterReducer'</span><span class="token punctuation">;</span>

<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'counterReducer'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'should return initial state'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">counterReducer</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'should handle INCREMENT'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">counterReducer</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'INCREMENT'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'should handle DECREMENT'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">counterReducer</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'DECREMENT'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="æµ‹è¯•-action-creator"><a href="#æµ‹è¯•-action-creator" class="header-anchor">#</a> æµ‹è¯• Action Creator</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> increment<span class="token punctuation">,</span> decrement <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./actions'</span><span class="token punctuation">;</span>

<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'actions'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'should create INCREMENT action'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">increment</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'INCREMENT'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">payload</span><span class="token operator">:</span> <span class="token number">5</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="æµ‹è¯•-store"><a href="#æµ‹è¯•-store" class="header-anchor">#</a> æµ‹è¯• Store</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'modernx-core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> rootReducer <span class="token keyword">from</span> <span class="token string">'./reducers'</span><span class="token punctuation">;</span>

<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'store'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> store<span class="token punctuation">;</span>
  
  <span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span>rootReducer<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'should dispatch actions'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'INCREMENT'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>store<span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>counter<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="ğŸš€-ç‰ˆæœ¬å†å²"><a href="#ğŸš€-ç‰ˆæœ¬å†å²" class="header-anchor">#</a> ğŸš€ ç‰ˆæœ¬å†å²</h2> <ul><li><strong>v1.1.1</strong> - ä¿®å¤ç±»å‹å®šä¹‰é—®é¢˜</li> <li><strong>v1.1.0</strong> - æ·»åŠ æ’ä»¶ç³»ç»Ÿ</li> <li><strong>v1.0.0</strong> - åˆå§‹ç‰ˆæœ¬</li></ul> <h2 id="ğŸ“-æ”¯æŒ"><a href="#ğŸ“-æ”¯æŒ" class="header-anchor">#</a> ğŸ“ æ”¯æŒ</h2> <ul><li>ğŸ“– <a href="https://github.com/perlinson/modernx" target="_blank" rel="noopener noreferrer">å®Œæ•´æ–‡æ¡£<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>ğŸ› <a href="https://github.com/perlinson/modernx/issues" target="_blank" rel="noopener noreferrer">é—®é¢˜åé¦ˆ<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>ğŸ’¬ <a href="https://github.com/perlinson/modernx/discussions" target="_blank" rel="noopener noreferrer">è®¨è®ºåŒº<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <hr> <p><strong>âš¡ è®© ModernX æ›´åŠ è½»é‡å’Œé«˜æ•ˆï¼</strong></p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">1/18/2026, 2:18:10 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/modernx/packages/modernx.html" class="prev">
        modernx
      </a></span> <span class="next"><a href="/modernx/packages/modernx-cli.html">
        modernx-cli
      </a>
      â†’
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/modernx/assets/js/app.470600dd.js" defer></script><script src="/modernx/assets/js/2.3d5021cd.js" defer></script><script src="/modernx/assets/js/1.f4cd91dc.js" defer></script><script src="/modernx/assets/js/37.56aa8132.js" defer></script>
  </body>
</html>
