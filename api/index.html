<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>API å‚è€ƒ | ModernX</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="Modern React state management framework with concurrent features">
    
    <link rel="preload" href="/modernx/assets/css/0.styles.7b828826.css" as="style"><link rel="preload" href="/modernx/assets/js/app.89c01cbf.js" as="script"><link rel="preload" href="/modernx/assets/js/2.3d5021cd.js" as="script"><link rel="preload" href="/modernx/assets/js/1.f4cd91dc.js" as="script"><link rel="preload" href="/modernx/assets/js/25.76b33c9b.js" as="script"><link rel="prefetch" href="/modernx/assets/js/10.a5603e21.js"><link rel="prefetch" href="/modernx/assets/js/11.1e3b401f.js"><link rel="prefetch" href="/modernx/assets/js/12.00d462b1.js"><link rel="prefetch" href="/modernx/assets/js/13.1dc05648.js"><link rel="prefetch" href="/modernx/assets/js/14.da9197ce.js"><link rel="prefetch" href="/modernx/assets/js/15.ef624351.js"><link rel="prefetch" href="/modernx/assets/js/16.6ebb19a3.js"><link rel="prefetch" href="/modernx/assets/js/17.ec17d98a.js"><link rel="prefetch" href="/modernx/assets/js/18.179ed69d.js"><link rel="prefetch" href="/modernx/assets/js/19.599ad32f.js"><link rel="prefetch" href="/modernx/assets/js/20.bdc16c97.js"><link rel="prefetch" href="/modernx/assets/js/21.3ff21a0e.js"><link rel="prefetch" href="/modernx/assets/js/22.704096b7.js"><link rel="prefetch" href="/modernx/assets/js/23.e99aba69.js"><link rel="prefetch" href="/modernx/assets/js/24.c0302e7b.js"><link rel="prefetch" href="/modernx/assets/js/26.75ab9594.js"><link rel="prefetch" href="/modernx/assets/js/27.f8fabe5d.js"><link rel="prefetch" href="/modernx/assets/js/28.2ef3eda1.js"><link rel="prefetch" href="/modernx/assets/js/29.384e110c.js"><link rel="prefetch" href="/modernx/assets/js/3.adc08618.js"><link rel="prefetch" href="/modernx/assets/js/30.d8dcb06e.js"><link rel="prefetch" href="/modernx/assets/js/31.491897d2.js"><link rel="prefetch" href="/modernx/assets/js/32.71be85cc.js"><link rel="prefetch" href="/modernx/assets/js/33.eece3008.js"><link rel="prefetch" href="/modernx/assets/js/34.bacc9e82.js"><link rel="prefetch" href="/modernx/assets/js/35.ae284f2a.js"><link rel="prefetch" href="/modernx/assets/js/36.24ee1c20.js"><link rel="prefetch" href="/modernx/assets/js/37.0df79dd0.js"><link rel="prefetch" href="/modernx/assets/js/38.0aa7ac75.js"><link rel="prefetch" href="/modernx/assets/js/39.64a03e66.js"><link rel="prefetch" href="/modernx/assets/js/4.d112ee6e.js"><link rel="prefetch" href="/modernx/assets/js/40.e8745bcc.js"><link rel="prefetch" href="/modernx/assets/js/41.31e79e37.js"><link rel="prefetch" href="/modernx/assets/js/42.dea95db6.js"><link rel="prefetch" href="/modernx/assets/js/5.7141bfbf.js"><link rel="prefetch" href="/modernx/assets/js/6.00e7cf51.js"><link rel="prefetch" href="/modernx/assets/js/7.2210c270.js"><link rel="prefetch" href="/modernx/assets/js/vendors~docsearch.0644ee0a.js">
    <link rel="stylesheet" href="/modernx/assets/css/0.styles.7b828826.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/modernx/" class="home-link router-link-active"><!----> <span class="site-name">ModernX</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/modernx/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/modernx/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/modernx/api/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  API
</a></div><div class="nav-item"><a href="/modernx/packages/" class="nav-link">
  Packages
</a></div><div class="nav-item"><a href="/modernx/examples/" class="nav-link">
  Examples
</a></div><div class="nav-item"><a href="/modernx/migration/" class="nav-link">
  Migration
</a></div><div class="nav-item"><a href="https://github.com/perlinson/modernx" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/modernx/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/modernx/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/modernx/api/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  API
</a></div><div class="nav-item"><a href="/modernx/packages/" class="nav-link">
  Packages
</a></div><div class="nav-item"><a href="/modernx/examples/" class="nav-link">
  Examples
</a></div><div class="nav-item"><a href="/modernx/migration/" class="nav-link">
  Migration
</a></div><div class="nav-item"><a href="https://github.com/perlinson/modernx" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/modernx/api/" aria-current="page" class="active sidebar-link">API å‚è€ƒ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/modernx/api/#ğŸ“¦-æ ¸å¿ƒåŒ…" class="sidebar-link">ğŸ“¦ æ ¸å¿ƒåŒ…</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/modernx/api/#modernx" class="sidebar-link">modernx</a></li><li class="sidebar-sub-header"><a href="/modernx/api/#modernx-core" class="sidebar-link">modernx-core</a></li><li class="sidebar-sub-header"><a href="/modernx/api/#modernx-immer" class="sidebar-link">modernx-immer</a></li><li class="sidebar-sub-header"><a href="/modernx/api/#modernx-loading" class="sidebar-link">modernx-loading</a></li></ul></li><li class="sidebar-sub-header"><a href="/modernx/api/#ğŸ¯-hooks" class="sidebar-link">ğŸ¯ Hooks</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/modernx/api/#usedvatransition" class="sidebar-link">useDvaTransition</a></li><li class="sidebar-sub-header"><a href="/modernx/api/#usedvaconcurrentstate" class="sidebar-link">useDvaConcurrentState</a></li><li class="sidebar-sub-header"><a href="/modernx/api/#usedvaloading" class="sidebar-link">useDvaLoading</a></li></ul></li><li class="sidebar-sub-header"><a href="/modernx/api/#ğŸ“‹-model-api" class="sidebar-link">ğŸ“‹ Model API</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/modernx/api/#model-ç»“æ„" class="sidebar-link">Model ç»“æ„</a></li><li class="sidebar-sub-header"><a href="/modernx/api/#reducers" class="sidebar-link">Reducers</a></li><li class="sidebar-sub-header"><a href="/modernx/api/#effects" class="sidebar-link">Effects</a></li><li class="sidebar-sub-header"><a href="/modernx/api/#subscriptions" class="sidebar-link">Subscriptions</a></li></ul></li><li class="sidebar-sub-header"><a href="/modernx/api/#ğŸ”§-å·¥å…·å‡½æ•°" class="sidebar-link">ğŸ”§ å·¥å…·å‡½æ•°</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/modernx/api/#getreducer" class="sidebar-link">getReducer</a></li><li class="sidebar-sub-header"><a href="/modernx/api/#getsaga" class="sidebar-link">getSaga</a></li><li class="sidebar-sub-header"><a href="/modernx/api/#checkmodel" class="sidebar-link">checkModel</a></li></ul></li><li class="sidebar-sub-header"><a href="/modernx/api/#ğŸ¨-ç±»å‹å®šä¹‰" class="sidebar-link">ğŸ¨ ç±»å‹å®šä¹‰</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/modernx/api/#appoptions" class="sidebar-link">AppOptions</a></li><li class="sidebar-sub-header"><a href="/modernx/api/#model" class="sidebar-link">Model</a></li><li class="sidebar-sub-header"><a href="/modernx/api/#connectprops" class="sidebar-link">ConnectProps</a></li></ul></li><li class="sidebar-sub-header"><a href="/modernx/api/#ğŸš€-é«˜çº§ç”¨æ³•" class="sidebar-link">ğŸš€ é«˜çº§ç”¨æ³•</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/modernx/api/#è‡ªå®šä¹‰æ’ä»¶" class="sidebar-link">è‡ªå®šä¹‰æ’ä»¶</a></li><li class="sidebar-sub-header"><a href="/modernx/api/#ä¸­é—´ä»¶" class="sidebar-link">ä¸­é—´ä»¶</a></li><li class="sidebar-sub-header"><a href="/modernx/api/#hmr-æ”¯æŒ" class="sidebar-link">HMR æ”¯æŒ</a></li></ul></li><li class="sidebar-sub-header"><a href="/modernx/api/#ğŸ“š-æ›´å¤šä¿¡æ¯" class="sidebar-link">ğŸ“š æ›´å¤šä¿¡æ¯</a></li><li class="sidebar-sub-header"><a href="/modernx/api/#ğŸ’¡-æç¤º" class="sidebar-link">ğŸ’¡ æç¤º</a></li></ul></li><li><a href="/modernx/api/createApp.html" class="sidebar-link">createApp</a></li><li><a href="/modernx/api/model.html" class="sidebar-link">Model</a></li><li><a href="/modernx/api/effects.html" class="sidebar-link">Effects</a></li><li><a href="/modernx/api/hooks.html" class="sidebar-link">Hooks</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="api-å‚è€ƒ"><a href="#api-å‚è€ƒ" class="header-anchor">#</a> API å‚è€ƒ</h1> <h2 id="ğŸ“¦-æ ¸å¿ƒåŒ…"><a href="#ğŸ“¦-æ ¸å¿ƒåŒ…" class="header-anchor">#</a> ğŸ“¦ æ ¸å¿ƒåŒ…</h2> <h3 id="modernx"><a href="#modernx" class="header-anchor">#</a> modernx</h3> <p>ä¸»åŒ…ï¼ŒåŒ…å«æ‰€æœ‰ ModernX åŠŸèƒ½ã€‚</p> <h4 id="createapp"><a href="#createapp" class="header-anchor">#</a> createApp</h4> <p>åˆ›å»º ModernX åº”ç”¨å®ä¾‹ã€‚</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'modernx'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>å‚æ•°:</strong></p> <ul><li><code>options</code> (Object): åº”ç”¨é…ç½®é€‰é¡¹</li></ul> <p><strong>è¿”å›å€¼:</strong></p> <ul><li><code>app</code> (Object): åº”ç”¨å®ä¾‹</li></ul> <p><strong>ç¤ºä¾‹:</strong></p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  models<span class="token operator">:</span> <span class="token punctuation">[</span>countModel<span class="token punctuation">]</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">require</span><span class="token punctuation">(</span><span class="token string">'modernx-loading'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">require</span><span class="token punctuation">(</span><span class="token string">'modernx-immer'</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="åº”ç”¨å®ä¾‹æ–¹æ³•"><a href="#åº”ç”¨å®ä¾‹æ–¹æ³•" class="header-anchor">#</a> åº”ç”¨å®ä¾‹æ–¹æ³•</h4> <h5 id="start-selector"><a href="#start-selector" class="header-anchor">#</a> start(selector)</h5> <p>å¯åŠ¨åº”ç”¨ï¼Œå°†åº”ç”¨æŒ‚è½½åˆ°æŒ‡å®šå…ƒç´ ã€‚</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code>app<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token string">'#root'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h5 id="model-model"><a href="#model-model" class="header-anchor">#</a> model(model)</h5> <p>åŠ¨æ€æ·»åŠ  modelã€‚</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code>app<span class="token punctuation">.</span><span class="token function">model</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  namespace<span class="token operator">:</span> <span class="token string">'dynamic'</span><span class="token punctuation">,</span>
  state<span class="token operator">:</span> <span class="token punctuation">{</span> count<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h5 id="unmodel-namespace"><a href="#unmodel-namespace" class="header-anchor">#</a> unmodel(namespace)</h5> <p>ç§»é™¤ modelã€‚</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code>app<span class="token punctuation">.</span><span class="token function">unmodel</span><span class="token punctuation">(</span><span class="token string">'dynamic'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h5 id="use-plugin"><a href="#use-plugin" class="header-anchor">#</a> use(plugin)</h5> <p>ä½¿ç”¨æ’ä»¶ã€‚</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code>app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token keyword">require</span><span class="token punctuation">(</span><span class="token string">'modernx-loading'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="modernx-core"><a href="#modernx-core" class="header-anchor">#</a> modernx-core</h3> <p>æ ¸å¿ƒåŠŸèƒ½åŒ…ï¼Œæä¾›åŸºç¡€çš„çŠ¶æ€ç®¡ç†èƒ½åŠ›ã€‚</p> <h4 id="createstore"><a href="#createstore" class="header-anchor">#</a> createStore</h4> <p>åˆ›å»º Redux storeã€‚</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'modernx-core'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="connect"><a href="#connect" class="header-anchor">#</a> connect</h4> <p>è¿æ¥ React ç»„ä»¶å’Œ storeã€‚</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> connect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'modernx-core'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> Component <span class="token operator">=</span> <span class="token function">connect</span><span class="token punctuation">(</span>mapStateToProps<span class="token punctuation">,</span> mapDispatchToProps<span class="token punctuation">)</span><span class="token punctuation">(</span>MyComponent<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="modernx-immer"><a href="#modernx-immer" class="header-anchor">#</a> modernx-immer</h3> <p>Immer é›†æˆåŒ…ï¼Œæä¾›ä¸å¯å˜çŠ¶æ€æ›´æ–°ã€‚</p> <h4 id="immer"><a href="#immer" class="header-anchor">#</a> immer</h4> <p>Immer æ’ä»¶é…ç½®ã€‚</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">import</span> immer <span class="token keyword">from</span> <span class="token string">'modernx-immer'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">immer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="modernx-loading"><a href="#modernx-loading" class="header-anchor">#</a> modernx-loading</h3> <p>Loading çŠ¶æ€ç®¡ç†åŒ…ã€‚</p> <h4 id="loading"><a href="#loading" class="header-anchor">#</a> loading</h4> <p>Loading æ’ä»¶é…ç½®ã€‚</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">import</span> loading <span class="token keyword">from</span> <span class="token string">'modernx-loading'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">loading</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="ğŸ¯-hooks"><a href="#ğŸ¯-hooks" class="header-anchor">#</a> ğŸ¯ Hooks</h2> <h3 id="usedvatransition"><a href="#usedvatransition" class="header-anchor">#</a> useDvaTransition</h3> <p>åŸºäº React 18 useTransition çš„çŠ¶æ€æ›´æ–° Hookã€‚</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useDvaTransition <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'modernx/react18-utils'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token punctuation">[</span>isPending<span class="token punctuation">,</span> startTransition<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useDvaTransition</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="usedvaconcurrentstate"><a href="#usedvaconcurrentstate" class="header-anchor">#</a> useDvaConcurrentState</h3> <p>åŸºäº React 18 useDeferredValue çš„å»¶è¿Ÿæ¸²æŸ“ Hookã€‚</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useDvaConcurrentState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'modernx/react18-utils'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token punctuation">{</span> state<span class="token punctuation">,</span> deferredState <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useDvaConcurrentState</span><span class="token punctuation">(</span><span class="token string">'namespace'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="usedvaloading"><a href="#usedvaloading" class="header-anchor">#</a> useDvaLoading</h3> <p>Loading çŠ¶æ€ Hookã€‚</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useDvaLoading <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'modernx/react18-utils'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token punctuation">{</span> loading<span class="token punctuation">,</span> globalLoading <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useDvaLoading</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="ğŸ“‹-model-api"><a href="#ğŸ“‹-model-api" class="header-anchor">#</a> ğŸ“‹ Model API</h2> <h3 id="model-ç»“æ„"><a href="#model-ç»“æ„" class="header-anchor">#</a> Model ç»“æ„</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token punctuation">{</span>
  namespace<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>           <span class="token comment">// å‘½åç©ºé—´</span>
  state<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span>                 <span class="token comment">// åˆå§‹çŠ¶æ€</span>
  reducers<span class="token operator">:</span> Object<span class="token punctuation">,</span>            <span class="token comment">// åŒæ­¥æ“ä½œ</span>
  effects<span class="token operator">:</span> Object<span class="token punctuation">,</span>             <span class="token comment">// å¼‚æ­¥æ“ä½œ</span>
  subscriptions<span class="token operator">:</span> Object        <span class="token comment">// è®¢é˜…</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="reducers"><a href="#reducers" class="header-anchor">#</a> Reducers</h3> <p>åŒæ­¥æ“ä½œï¼Œç›´æ¥ä¿®æ”¹çŠ¶æ€ã€‚</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token punctuation">{</span>
  <span class="token function">add</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> state <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">setUser</span><span class="token punctuation">(</span>state<span class="token punctuation">,</span> <span class="token punctuation">{</span> payload <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
    <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token operator">...</span>state<span class="token punctuation">,</span> user<span class="token operator">:</span> payload <span class="token punctuation">}</span><span class="token punctuation">;</span> 
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="effects"><a href="#effects" class="header-anchor">#</a> Effects</h3> <p>å¼‚æ­¥æ“ä½œï¼Œä½¿ç”¨ Generator å‡½æ•°ã€‚</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token punctuation">{</span>
  <span class="token operator">*</span><span class="token function">asyncAdd</span><span class="token punctuation">(</span><span class="token punctuation">{</span> payload <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> put<span class="token punctuation">,</span> call<span class="token punctuation">,</span> select <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// è°ƒç”¨ API</span>
    <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword">yield</span> <span class="token function">call</span><span class="token punctuation">(</span>api<span class="token punctuation">.</span>add<span class="token punctuation">,</span> payload<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">// æ›´æ–°çŠ¶æ€</span>
    <span class="token keyword">yield</span> <span class="token function">put</span><span class="token punctuation">(</span><span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">'add'</span><span class="token punctuation">,</span> payload<span class="token operator">:</span> result <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">// è·å–çŠ¶æ€</span>
    <span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token keyword">yield</span> <span class="token function">select</span><span class="token punctuation">(</span>state <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="subscriptions"><a href="#subscriptions" class="header-anchor">#</a> Subscriptions</h3> <p>è®¢é˜…å¤–éƒ¨æ•°æ®æºã€‚</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token punctuation">{</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">{</span> dispatch<span class="token punctuation">,</span> history <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ç›‘å¬é”®ç›˜äº‹ä»¶</span>
    window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'keydown'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">'keydown'</span><span class="token punctuation">,</span> payload<span class="token operator">:</span> e<span class="token punctuation">.</span>keyCode <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">// ç›‘å¬è·¯ç”±å˜åŒ–</span>
    history<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">{</span> pathname <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">'route/change'</span><span class="token punctuation">,</span> payload<span class="token operator">:</span> pathname <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="ğŸ”§-å·¥å…·å‡½æ•°"><a href="#ğŸ”§-å·¥å…·å‡½æ•°" class="header-anchor">#</a> ğŸ”§ å·¥å…·å‡½æ•°</h2> <h3 id="getreducer"><a href="#getreducer" class="header-anchor">#</a> getReducer</h3> <p>è·å– reducerã€‚</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> getReducer <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'modernx-core'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> reducer <span class="token operator">=</span> <span class="token function">getReducer</span><span class="token punctuation">(</span>model<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="getsaga"><a href="#getsaga" class="header-anchor">#</a> getSaga</h3> <p>è·å– sagaã€‚</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> getSaga <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'modernx-core'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> saga <span class="token operator">=</span> <span class="token function">getSaga</span><span class="token punctuation">(</span>model<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="checkmodel"><a href="#checkmodel" class="header-anchor">#</a> checkModel</h3> <p>éªŒè¯ model ç»“æ„ã€‚</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> checkModel <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'modernx-core'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> isValid <span class="token operator">=</span> <span class="token function">checkModel</span><span class="token punctuation">(</span>model<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="ğŸ¨-ç±»å‹å®šä¹‰"><a href="#ğŸ¨-ç±»å‹å®šä¹‰" class="header-anchor">#</a> ğŸ¨ ç±»å‹å®šä¹‰</h2> <h3 id="appoptions"><a href="#appoptions" class="header-anchor">#</a> AppOptions</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">AppOptions</span> <span class="token punctuation">{</span>
  models<span class="token operator">?</span><span class="token operator">:</span> Model<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  plugins<span class="token operator">?</span><span class="token operator">:</span> Plugin<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  initialState<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span>
  onError<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span>error<span class="token operator">:</span> Error<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
  onAction<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span>action<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
  onStateChange<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span>state<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="model"><a href="#model" class="header-anchor">#</a> Model</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Model</span> <span class="token punctuation">{</span>
  namespace<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  state<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span>
  reducers<span class="token operator">?</span><span class="token operator">:</span> Reducers<span class="token punctuation">;</span>
  effects<span class="token operator">?</span><span class="token operator">:</span> Effects<span class="token punctuation">;</span>
  subscriptions<span class="token operator">?</span><span class="token operator">:</span> Subscriptions<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="connectprops"><a href="#connectprops" class="header-anchor">#</a> ConnectProps</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">ConnectProps</span> <span class="token punctuation">{</span>
  mapStateToProps<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span>state<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span> ownProps<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">any</span><span class="token punctuation">;</span>
  mapDispatchToProps<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span>dispatch<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span> ownProps<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">any</span><span class="token punctuation">;</span>
  mergeProps<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span>stateProps<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span> dispatchProps<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span> ownProps<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">any</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="ğŸš€-é«˜çº§ç”¨æ³•"><a href="#ğŸš€-é«˜çº§ç”¨æ³•" class="header-anchor">#</a> ğŸš€ é«˜çº§ç”¨æ³•</h2> <h3 id="è‡ªå®šä¹‰æ’ä»¶"><a href="#è‡ªå®šä¹‰æ’ä»¶" class="header-anchor">#</a> è‡ªå®šä¹‰æ’ä»¶</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">const</span> customPlugin <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'custom'</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span>app<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// æ’ä»¶åˆå§‹åŒ–</span>
    app<span class="token punctuation">.</span><span class="token function">model</span><span class="token punctuation">(</span>customModel<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">// è¿”å›æ’ä»¶é…ç½®</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token function">onAction</span><span class="token punctuation">(</span>action<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// ç›‘å¬æ‰€æœ‰ action</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Action:'</span><span class="token punctuation">,</span> action<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="ä¸­é—´ä»¶"><a href="#ä¸­é—´ä»¶" class="header-anchor">#</a> ä¸­é—´ä»¶</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">const</span> <span class="token function-variable function">middleware</span> <span class="token operator">=</span> <span class="token punctuation">(</span>store<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>next<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>action<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Before:'</span><span class="token punctuation">,</span> action<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">next</span><span class="token punctuation">(</span>action<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'After:'</span><span class="token punctuation">,</span> action<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  middlewares<span class="token operator">:</span> <span class="token punctuation">[</span>middleware<span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="hmr-æ”¯æŒ"><a href="#hmr-æ”¯æŒ" class="header-anchor">#</a> HMR æ”¯æŒ</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">'development'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token keyword">require</span><span class="token punctuation">(</span><span class="token string">'modernx/hmr'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="ğŸ“š-æ›´å¤šä¿¡æ¯"><a href="#ğŸ“š-æ›´å¤šä¿¡æ¯" class="header-anchor">#</a> ğŸ“š æ›´å¤šä¿¡æ¯</h2> <ul><li><a href="/modernx/examples/">ç¤ºä¾‹</a> - æŸ¥çœ‹å®é™…ä½¿ç”¨ç¤ºä¾‹</li> <li><a href="/modernx/guide/">æŒ‡å—</a> - å­¦ä¹ æ ¸å¿ƒæ¦‚å¿µ</li> <li><a href="/modernx/migration/">è¿ç§»</a> - ä»å…¶ä»–æ¡†æ¶è¿ç§»</li></ul> <h2 id="ğŸ’¡-æç¤º"><a href="#ğŸ’¡-æç¤º" class="header-anchor">#</a> ğŸ’¡ æç¤º</h2> <ul><li>ä½¿ç”¨ TypeScript è·å¾—å®Œæ•´çš„ç±»å‹æç¤º</li> <li>æŸ¥çœ‹ <code>@types/modernx</code> è·å–è¯¦ç»†çš„ç±»å‹å®šä¹‰</li> <li>å‚è€ƒ <code>packages/*/src/index.d.ts</code> äº†è§£å†…éƒ¨å®ç°</li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">1/18/2026, 5:36:04 AM</span></div></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/modernx/api/createApp.html">
        createApp
      </a>
      â†’
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/modernx/assets/js/app.89c01cbf.js" defer></script><script src="/modernx/assets/js/2.3d5021cd.js" defer></script><script src="/modernx/assets/js/1.f4cd91dc.js" defer></script><script src="/modernx/assets/js/25.76b33c9b.js" defer></script>
  </body>
</html>
